{"ast":null,"code":"export class JulianDayCalculator{julday(mm,id,iyyy){let ja,jul,jy=iyyy,jm;if(jy===0)throw new Error(\"julday: there is no year zero.\");if(jy<0)jy++;if(mm>2){jm=mm+1;}else{jy--;jm=mm+13;}jul=Math.floor(365.25*jy)+Math.floor(30.6001*jm)+id+1720995;if(id+31*(mm+12*iyyy)>=JulianDayCalculator.IGREG){ja=Math.floor(0.01*jy);jul+=2-ja+Math.floor(0.25*ja);}return jul;}caldat(julian){let ja,jalpha,jb,jc,jd,je;if(julian>=JulianDayCalculator.IGREG){jalpha=Math.floor((julian-1867216-0.25)/36524.25);ja=julian+1+jalpha-Math.floor(0.25*jalpha);}else if(julian<0){ja=julian+36525*(1-julian/36525);}else{ja=julian;}jb=ja+1524;jc=Math.floor(6680.0+(jb-2439870-122.1)/365.25);jd=Math.floor(365*jc+0.25*jc);je=Math.floor((jb-jd)/30.6001);const id=jb-jd-Math.floor(30.6001*je);let mm=je-1;if(mm>12)mm-=12;let iyyy=jc-4715;if(mm>2)iyyy--;if(iyyy<=0)iyyy--;if(julian<0)iyyy-=100*(1-julian/36525);return{mm,id,iyyy};}}JulianDayCalculator.IGREG=15+31*(10+12*1582);","map":{"version":3,"names":["JulianDayCalculator","julday","mm","id","iyyy","ja","jul","jy","jm","Error","Math","floor","IGREG","caldat","julian","jalpha","jb","jc","jd","je"],"sources":["/home/jordan/numerical-recipes/src/models/JulianDayCalculator.tsx"],"sourcesContent":["export class JulianDayCalculator {\n    private static IGREG: number = 15 + 31 * (10 + 12 * 1582);\n  \n    julday(mm: number, id: number, iyyy: number): number {\n      let ja, jul, jy = iyyy, jm;\n  \n      if (jy === 0) throw new Error(\"julday: there is no year zero.\");\n      if (jy < 0) jy++;\n  \n      if (mm > 2) {\n        jm = mm + 1;\n      } else {\n        jy--;\n        jm = mm + 13;\n      }\n  \n      jul = Math.floor(365.25 * jy) + Math.floor(30.6001 * jm) + id + 1720995;\n  \n      if (id + 31 * (mm + 12 * iyyy) >= JulianDayCalculator.IGREG) {\n        ja = Math.floor(0.01 * jy);\n        jul += 2 - ja + Math.floor(0.25 * ja);\n      }\n  \n      return jul;\n    }\n  \n    caldat(julian: number): { mm: number, id: number, iyyy: number } {\n      let ja, jalpha, jb, jc, jd, je;\n  \n      if (julian >= JulianDayCalculator.IGREG) {\n        jalpha = Math.floor((julian - 1867216 - 0.25) / 36524.25);\n        ja = julian + 1 + jalpha - Math.floor(0.25 * jalpha);\n      } else if (julian < 0) {\n        ja = julian + 36525 * (1 - julian / 36525);\n      } else {\n        ja = julian;\n      }\n  \n      jb = ja + 1524;\n      jc = Math.floor(6680.0 + (jb - 2439870 - 122.1) / 365.25);\n      jd = Math.floor(365 * jc + (0.25 * jc));\n      je = Math.floor((jb - jd) / 30.6001);\n  \n      const id = jb - jd - Math.floor(30.6001 * je);\n      let mm = je - 1;\n  \n      if (mm > 12) mm -= 12;\n  \n      let iyyy = jc - 4715;\n  \n      if (mm > 2) iyyy--;\n  \n      if (iyyy <= 0) iyyy--;\n  \n      if (julian < 0) iyyy -= 100 * (1 - julian / 36525);\n  \n      return { mm, id, iyyy };\n    }\n  }"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}