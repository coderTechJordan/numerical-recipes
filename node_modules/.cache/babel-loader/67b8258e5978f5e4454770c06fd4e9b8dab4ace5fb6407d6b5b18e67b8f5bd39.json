{"ast":null,"code":"export class LunarPhaseCalculator{flmoon(n,nph){let i;const c=n+nph/4.0;const t=c/1236.85;const t2=t*t;const as=359.2242+29.105356*c;const am=306.0253+385.816918*c+0.010730*t2;let jd=2415020+28*n+7*nph;let xtra=0.75933+1.53058868*c+(1.178e-4-1.55e-7*t)*t2;if(nph===0||nph===2){xtra+=(0.1734-3.93e-4*t)*Math.sin(LunarPhaseCalculator.RAD*as)-0.4068*Math.sin(LunarPhaseCalculator.RAD*am);}else if(nph===1||nph===3){xtra+=(0.1721-4.0e-4*t)*Math.sin(LunarPhaseCalculator.RAD*as)-0.6280*Math.sin(LunarPhaseCalculator.RAD*am);}else{throw new Error(\"nph is unknown in flmoon\");}i=xtra>=0.0?Math.floor(xtra):Math.ceil(xtra-1.0);jd+=i;const frac=xtra-i;return{jd,frac};}}LunarPhaseCalculator.RAD=Math.PI/180.0;","map":{"version":3,"names":["LunarPhaseCalculator","flmoon","n","nph","i","c","t","t2","as","am","jd","xtra","Math","sin","RAD","Error","floor","ceil","frac","PI"],"sources":["/home/jordan/numerical-recipes/src/models/LunarPhaseCalculator.tsx"],"sourcesContent":["export class LunarPhaseCalculator {\n    private static RAD: number = Math.PI / 180.0;\n  \n    flmoon(n: number, nph: number): { jd: number, frac: number } {\n      let i;\n      const c = n + nph / 4.0;\n      const t = c / 1236.85;\n      const t2 = t * t;\n      const as = 359.2242 + 29.105356 * c;\n      const am = 306.0253 + 385.816918 * c + 0.010730 * t2;\n      let jd = 2415020 + 28 * n + 7 * nph;\n      let xtra = 0.75933 + 1.53058868 * c + ((1.178e-4) - (1.55e-7) * t) * t2;\n  \n      if (nph === 0 || nph === 2) {\n        xtra += (0.1734 - 3.93e-4 * t) * Math.sin(LunarPhaseCalculator.RAD * as) - 0.4068 * Math.sin(LunarPhaseCalculator.RAD * am);\n      } else if (nph === 1 || nph === 3) {\n        xtra += (0.1721 - 4.0e-4 * t) * Math.sin(LunarPhaseCalculator.RAD * as) - 0.6280 * Math.sin(LunarPhaseCalculator.RAD * am);\n      } else {\n        throw new Error(\"nph is unknown in flmoon\");\n      }\n  \n      i = xtra >= 0.0 ? Math.floor(xtra) : Math.ceil(xtra - 1.0);\n      jd += i;\n  \n      const frac = xtra - i;\n  \n      return { jd, frac };\n    }\n  }"],"mappings":"AAAA,MAAO,MAAM,CAAAA,oBAAqB,CAG9BC,MAAMA,CAACC,CAAS,CAAEC,GAAW,CAAgC,CAC3D,GAAI,CAAAC,CAAC,CACL,KAAM,CAAAC,CAAC,CAAGH,CAAC,CAAGC,GAAG,CAAG,GAAG,CACvB,KAAM,CAAAG,CAAC,CAAGD,CAAC,CAAG,OAAO,CACrB,KAAM,CAAAE,EAAE,CAAGD,CAAC,CAAGA,CAAC,CAChB,KAAM,CAAAE,EAAE,CAAG,QAAQ,CAAG,SAAS,CAAGH,CAAC,CACnC,KAAM,CAAAI,EAAE,CAAG,QAAQ,CAAG,UAAU,CAAGJ,CAAC,CAAG,QAAQ,CAAGE,EAAE,CACpD,GAAI,CAAAG,EAAE,CAAG,OAAO,CAAG,EAAE,CAAGR,CAAC,CAAG,CAAC,CAAGC,GAAG,CACnC,GAAI,CAAAQ,IAAI,CAAG,OAAO,CAAG,UAAU,CAAGN,CAAC,CAAG,CAAE,QAAQ,CAAK,OAAO,CAAIC,CAAC,EAAIC,EAAE,CAEvE,GAAIJ,GAAG,GAAK,CAAC,EAAIA,GAAG,GAAK,CAAC,CAAE,CAC1BQ,IAAI,EAAI,CAAC,MAAM,CAAG,OAAO,CAAGL,CAAC,EAAIM,IAAI,CAACC,GAAG,CAACb,oBAAoB,CAACc,GAAG,CAAGN,EAAE,CAAC,CAAG,MAAM,CAAGI,IAAI,CAACC,GAAG,CAACb,oBAAoB,CAACc,GAAG,CAAGL,EAAE,CAAC,CAC7H,CAAC,IAAM,IAAIN,GAAG,GAAK,CAAC,EAAIA,GAAG,GAAK,CAAC,CAAE,CACjCQ,IAAI,EAAI,CAAC,MAAM,CAAG,MAAM,CAAGL,CAAC,EAAIM,IAAI,CAACC,GAAG,CAACb,oBAAoB,CAACc,GAAG,CAAGN,EAAE,CAAC,CAAG,MAAM,CAAGI,IAAI,CAACC,GAAG,CAACb,oBAAoB,CAACc,GAAG,CAAGL,EAAE,CAAC,CAC5H,CAAC,IAAM,CACL,KAAM,IAAI,CAAAM,KAAK,CAAC,0BAA0B,CAAC,CAC7C,CAEAX,CAAC,CAAGO,IAAI,EAAI,GAAG,CAAGC,IAAI,CAACI,KAAK,CAACL,IAAI,CAAC,CAAGC,IAAI,CAACK,IAAI,CAACN,IAAI,CAAG,GAAG,CAAC,CAC1DD,EAAE,EAAIN,CAAC,CAEP,KAAM,CAAAc,IAAI,CAAGP,IAAI,CAAGP,CAAC,CAErB,MAAO,CAAEM,EAAE,CAAEQ,IAAK,CAAC,CACrB,CACF,CA5BWlB,oBAAoB,CACdc,GAAG,CAAWF,IAAI,CAACO,EAAE,CAAG,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}