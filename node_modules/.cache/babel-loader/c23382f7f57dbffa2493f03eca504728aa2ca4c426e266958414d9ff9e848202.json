{"ast":null,"code":"export class JulianDayCalculator {\n  julday(mm, id, iyyy) {\n    let ja,\n      jul,\n      jy = iyyy,\n      jm;\n    if (jy === 0) throw new Error(\"julday: there is no year zero.\");\n    if (jy < 0) jy++;\n    if (mm > 2) {\n      jm = mm + 1;\n    } else {\n      jy--;\n      jm = mm + 13;\n    }\n    jul = Math.floor(365.25 * jy) + Math.floor(30.6001 * jm) + id + 1720995;\n    if (id + 31 * (mm + 12 * iyyy) >= JulianDayCalculator.IGREG) {\n      ja = Math.floor(0.01 * jy);\n      jul += 2 - ja + Math.floor(0.25 * ja);\n    }\n    return jul;\n  }\n  caldat(julian) {\n    let ja, jalpha, jb, jc, jd, je;\n    if (julian >= JulianDayCalculator.IGREG) {\n      jalpha = Math.floor((julian - 1867216 - 0.25) / 36524.25);\n      ja = julian + 1 + jalpha - Math.floor(0.25 * jalpha);\n    } else if (julian < 0) {\n      ja = julian + 36525 * (1 - julian / 36525);\n    } else {\n      ja = julian;\n    }\n    jb = ja + 1524;\n    jc = Math.floor(6680.0 + (jb - 2439870 - 122.1) / 365.25);\n    jd = Math.floor(365 * jc + 0.25 * jc);\n    je = Math.floor((jb - jd) / 30.6001);\n    const id = jb - jd - Math.floor(30.6001 * je);\n    let mm = je - 1;\n    if (mm > 12) mm -= 12;\n    let iyyy = jc - 4715;\n    if (mm > 2) iyyy--;\n    if (iyyy <= 0) iyyy--;\n    if (julian < 0) iyyy -= 100 * (1 - julian / 36525);\n    return {\n      mm,\n      id,\n      iyyy\n    };\n  }\n}\nJulianDayCalculator.IGREG = 15 + 31 * (10 + 12 * 1582);","map":{"version":3,"names":["JulianDayCalculator","julday","mm","id","iyyy","ja","jul","jy","jm","Error","Math","floor","IGREG","caldat","julian","jalpha","jb","jc","jd","je"],"sources":["/home/jordan/numerical-recipes/src/models/JulianDayCalculator.tsx"],"sourcesContent":["export class JulianDayCalculator {\n    private static IGREG: number = 15 + 31 * (10 + 12 * 1582);\n  \n    julday(mm: number, id: number, iyyy: number): number {\n      let ja, jul, jy = iyyy, jm;\n  \n      if (jy === 0) throw new Error(\"julday: there is no year zero.\");\n      if (jy < 0) jy++;\n  \n      if (mm > 2) {\n        jm = mm + 1;\n      } else {\n        jy--;\n        jm = mm + 13;\n      }\n  \n      jul = Math.floor(365.25 * jy) + Math.floor(30.6001 * jm) + id + 1720995;\n  \n      if (id + 31 * (mm + 12 * iyyy) >= JulianDayCalculator.IGREG) {\n        ja = Math.floor(0.01 * jy);\n        jul += 2 - ja + Math.floor(0.25 * ja);\n      }\n  \n      return jul;\n    }\n  \n    caldat(julian: number): { mm: number, id: number, iyyy: number } {\n      let ja, jalpha, jb, jc, jd, je;\n  \n      if (julian >= JulianDayCalculator.IGREG) {\n        jalpha = Math.floor((julian - 1867216 - 0.25) / 36524.25);\n        ja = julian + 1 + jalpha - Math.floor(0.25 * jalpha);\n      } else if (julian < 0) {\n        ja = julian + 36525 * (1 - julian / 36525);\n      } else {\n        ja = julian;\n      }\n  \n      jb = ja + 1524;\n      jc = Math.floor(6680.0 + (jb - 2439870 - 122.1) / 365.25);\n      jd = Math.floor(365 * jc + (0.25 * jc));\n      je = Math.floor((jb - jd) / 30.6001);\n  \n      const id = jb - jd - Math.floor(30.6001 * je);\n      let mm = je - 1;\n  \n      if (mm > 12) mm -= 12;\n  \n      let iyyy = jc - 4715;\n  \n      if (mm > 2) iyyy--;\n  \n      if (iyyy <= 0) iyyy--;\n  \n      if (julian < 0) iyyy -= 100 * (1 - julian / 36525);\n  \n      return { mm, id, iyyy };\n    }\n  }"],"mappings":"AAAA,OAAO,MAAMA,mBAAmB,CAAC;EAG7BC,MAAMA,CAACC,EAAU,EAAEC,EAAU,EAAEC,IAAY,EAAU;IACnD,IAAIC,EAAE;MAAEC,GAAG;MAAEC,EAAE,GAAGH,IAAI;MAAEI,EAAE;IAE1B,IAAID,EAAE,KAAK,CAAC,EAAE,MAAM,IAAIE,KAAK,CAAC,gCAAgC,CAAC;IAC/D,IAAIF,EAAE,GAAG,CAAC,EAAEA,EAAE,EAAE;IAEhB,IAAIL,EAAE,GAAG,CAAC,EAAE;MACVM,EAAE,GAAGN,EAAE,GAAG,CAAC;IACb,CAAC,MAAM;MACLK,EAAE,EAAE;MACJC,EAAE,GAAGN,EAAE,GAAG,EAAE;IACd;IAEAI,GAAG,GAAGI,IAAI,CAACC,KAAK,CAAC,MAAM,GAAGJ,EAAE,CAAC,GAAGG,IAAI,CAACC,KAAK,CAAC,OAAO,GAAGH,EAAE,CAAC,GAAGL,EAAE,GAAG,OAAO;IAEvE,IAAIA,EAAE,GAAG,EAAE,IAAID,EAAE,GAAG,EAAE,GAAGE,IAAI,CAAC,IAAIJ,mBAAmB,CAACY,KAAK,EAAE;MAC3DP,EAAE,GAAGK,IAAI,CAACC,KAAK,CAAC,IAAI,GAAGJ,EAAE,CAAC;MAC1BD,GAAG,IAAI,CAAC,GAAGD,EAAE,GAAGK,IAAI,CAACC,KAAK,CAAC,IAAI,GAAGN,EAAE,CAAC;IACvC;IAEA,OAAOC,GAAG;EACZ;EAEAO,MAAMA,CAACC,MAAc,EAA4C;IAC/D,IAAIT,EAAE,EAAEU,MAAM,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE;IAE9B,IAAIL,MAAM,IAAId,mBAAmB,CAACY,KAAK,EAAE;MACvCG,MAAM,GAAGL,IAAI,CAACC,KAAK,CAAC,CAACG,MAAM,GAAG,OAAO,GAAG,IAAI,IAAI,QAAQ,CAAC;MACzDT,EAAE,GAAGS,MAAM,GAAG,CAAC,GAAGC,MAAM,GAAGL,IAAI,CAACC,KAAK,CAAC,IAAI,GAAGI,MAAM,CAAC;IACtD,CAAC,MAAM,IAAID,MAAM,GAAG,CAAC,EAAE;MACrBT,EAAE,GAAGS,MAAM,GAAG,KAAK,IAAI,CAAC,GAAGA,MAAM,GAAG,KAAK,CAAC;IAC5C,CAAC,MAAM;MACLT,EAAE,GAAGS,MAAM;IACb;IAEAE,EAAE,GAAGX,EAAE,GAAG,IAAI;IACdY,EAAE,GAAGP,IAAI,CAACC,KAAK,CAAC,MAAM,GAAG,CAACK,EAAE,GAAG,OAAO,GAAG,KAAK,IAAI,MAAM,CAAC;IACzDE,EAAE,GAAGR,IAAI,CAACC,KAAK,CAAC,GAAG,GAAGM,EAAE,GAAI,IAAI,GAAGA,EAAG,CAAC;IACvCE,EAAE,GAAGT,IAAI,CAACC,KAAK,CAAC,CAACK,EAAE,GAAGE,EAAE,IAAI,OAAO,CAAC;IAEpC,MAAMf,EAAE,GAAGa,EAAE,GAAGE,EAAE,GAAGR,IAAI,CAACC,KAAK,CAAC,OAAO,GAAGQ,EAAE,CAAC;IAC7C,IAAIjB,EAAE,GAAGiB,EAAE,GAAG,CAAC;IAEf,IAAIjB,EAAE,GAAG,EAAE,EAAEA,EAAE,IAAI,EAAE;IAErB,IAAIE,IAAI,GAAGa,EAAE,GAAG,IAAI;IAEpB,IAAIf,EAAE,GAAG,CAAC,EAAEE,IAAI,EAAE;IAElB,IAAIA,IAAI,IAAI,CAAC,EAAEA,IAAI,EAAE;IAErB,IAAIU,MAAM,GAAG,CAAC,EAAEV,IAAI,IAAI,GAAG,IAAI,CAAC,GAAGU,MAAM,GAAG,KAAK,CAAC;IAElD,OAAO;MAAEZ,EAAE;MAAEC,EAAE;MAAEC;IAAK,CAAC;EACzB;AACF;AA1DWJ,mBAAmB,CACbY,KAAK,GAAW,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}